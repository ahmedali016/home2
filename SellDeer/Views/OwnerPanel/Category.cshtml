@model IEnumerable<SellDeer.DataModel.Category>
@{
    ViewBag.Title = "Category";
    Layout = "~/Views/AdminLayout/_LayoutOwner.cshtml";
}

<h2>Category</h2>
<section class="content">
    <div class="row">
        <!-- left column -->
        <div class="col-md-12">
            <!-- general form elements -->
            <div class="box box-primary">
                <div class="box-header">
                </div><!-- /.box-header -->
                <!-- form start -->
                <form method="post" enctype="multipart/form-data">
                    <div class="box-body">
                        <div class="form-group">
                            <label for="txtCategoryName">Category name</label>
                            <input type="text" class="form-control" id="txtCategoryName" name="categoryName" placeholder="Enter Category" required>
                        </div>
                        <div class="form-group">
                            <label for="inpImage">Category image</label>
                            <input type="file" id="inpImage" name="inpImage">
                            <p class="help-block"></p>
                        </div>
                    </div><!-- /.box-body -->
                    <div class="box-footer">
                        <button type="submit" class="btn btn-primary">Submit</button>
                    </div>
                </form>
                    @Html.Partial("PartialView/_CategoryEdit")
                    <!--start Edit -->
                    

                    <div class="row">
                        <div class="col-xs-12">
                            <div class="box">
                                <div class="box-header">
                                    <h3 class="box-title">Categories</h3>
                                    <div class="box-tools">
                                        <div class="input-group">
                                            <input type="text" name="table_search" class="form-control input-sm pull-right" style="width: 150px;" placeholder="Search" />
                                            <div class="input-group-btn">
                                                <button class="btn btn-sm btn-default"><i class="fa fa-search"></i></button>
                                            </div>
                                        </div>
                                    </div>
                                </div><!-- /.box-header -->
                                <div class="box-body table-responsive no-padding">
                                 
                                    <table class="table table-hover">
                                        <tr>
                                            <th>Category name</th>
                                            <th>Edit</th>
                                            <th>Delete</th>
                                        </tr>
                                       @foreach (var item in Model)
                                       {
                                           <tr>
                                       
                                               <td>@item.cat_name</td>
                                               <td> <a href="#" onclick="editCatg(@item.id,'@item.cat_name')">Edit</a> </td>
                                               <td>@Html.ActionLink("Delete", "deleteCategory", new { catId = @item.id } )</td>
                                                                              
                                           </tr>
                                       }
                                    </table>
                                </div><!-- /.box-body -->
                            </div><!-- /.box -->
                        </div>
                    </div>
                
            </div><!-- /.box -->
            <!-- Form Element sizes -->

        </div>
    </div>
</section>
<script>
    function editCatg(id, categ) {
        document.getElementById("catId").value = id;
        document.getElementById("divEditCateg").style.display = "block";       
        
        document.getElementById("editCategoryName").value = categ;
    }

    function cancelEdit(){
        document.getElementById("divEditCateg").style.display = "none";      
    }
</script>
